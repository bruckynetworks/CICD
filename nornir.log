2022-09-10 12:38:07,779 -  nornir.core -     INFO -        run() - Running task 'get_thing' with args {} on 3 hosts
2022-09-10 12:50:08,232 -  nornir.core -     INFO -        run() - Running task 'get_thing' with args {} on 3 hosts
2022-09-10 13:24:16,968 -  nornir.core -     INFO -        run() - Running task 'edit_nc_config_from_yaml' with args {} on 3 hosts
2022-09-10 13:24:16,971 - nornir.core.task -    ERROR -      start() - Host 'LEFT': task 'edit_nc_config_from_yaml' failed with traceback:
Traceback (most recent call last):
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "edit_config.py", line 14, in edit_nc_config_from_yaml
    xml = magic_sauce.dict_to_xml(data, root="config")
NameError: name 'magic_sauce' is not defined

2022-09-10 13:24:16,971 - nornir.core.task -    ERROR -      start() - Host 'RIGHT': task 'edit_nc_config_from_yaml' failed with traceback:
Traceback (most recent call last):
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "edit_config.py", line 14, in edit_nc_config_from_yaml
    xml = magic_sauce.dict_to_xml(data, root="config")
NameError: name 'magic_sauce' is not defined

2022-09-10 13:24:16,975 - nornir.core.task -    ERROR -      start() - Host 'CENTRE': task 'edit_nc_config_from_yaml' failed with traceback:
Traceback (most recent call last):
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "edit_config.py", line 14, in edit_nc_config_from_yaml
    xml = magic_sauce.dict_to_xml(data, root="config")
NameError: name 'magic_sauce' is not defined

2022-09-10 13:24:33,690 -  nornir.core -     INFO -        run() - Running task 'edit_nc_config_from_yaml' with args {} on 3 hosts
2022-09-10 13:28:06,429 -  nornir.core -     INFO -        run() - Running task 'edit_nc_config_from_yaml' with args {} on 3 hosts
2022-09-10 13:33:08,265 -  nornir.core -     INFO -        run() - Running task 'edit_nc_config_from_yaml' with args {} on 3 hosts
2022-09-10 13:48:08,656 -  nornir.core -     INFO -        run() - Running task 'edit_nc_config_from_yaml' with args {} on 3 hosts
2022-09-10 15:18:33,120 -  nornir.core -     INFO -        run() - Running task 'get_thing' with args {} on 3 hosts
2022-09-10 15:24:53,170 -  nornir.core -     INFO -        run() - Running task 'edit_nc_config_from_yaml' with args {} on 3 hosts
2022-09-10 15:24:53,174 - nornir.core.task -    ERROR -      start() - Host 'CENTRE': task 'edit_nc_config_from_yaml' failed with traceback:
Traceback (most recent call last):
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "edit_config.py", line 13, in edit_nc_config_from_yaml
    data = yaml.load(f)
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ruamel/yaml/main.py", line 434, in load
    return constructor.get_single_data()
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ruamel/yaml/constructor.py", line 119, in get_single_data
    node = self.composer.get_single_node()
  File "_ruamel_yaml.pyx", line 706, in _ruamel_yaml.CParser.get_single_node
  File "_ruamel_yaml.pyx", line 724, in _ruamel_yaml.CParser._compose_document
  File "_ruamel_yaml.pyx", line 775, in _ruamel_yaml.CParser._compose_node
  File "_ruamel_yaml.pyx", line 889, in _ruamel_yaml.CParser._compose_mapping_node
  File "_ruamel_yaml.pyx", line 775, in _ruamel_yaml.CParser._compose_node
  File "_ruamel_yaml.pyx", line 889, in _ruamel_yaml.CParser._compose_mapping_node
  File "_ruamel_yaml.pyx", line 775, in _ruamel_yaml.CParser._compose_node
  File "_ruamel_yaml.pyx", line 891, in _ruamel_yaml.CParser._compose_mapping_node
  File "_ruamel_yaml.pyx", line 904, in _ruamel_yaml.CParser._parse_next_event
ruamel.yaml.scanner.ScannerError: mapping values are not allowed in this context
  in "host_vars/CENTRE.yaml", line 15, column 11

2022-09-10 15:24:53,175 - nornir.core.task -    ERROR -      start() - Host 'LEFT': task 'edit_nc_config_from_yaml' failed with traceback:
Traceback (most recent call last):
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "edit_config.py", line 13, in edit_nc_config_from_yaml
    data = yaml.load(f)
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ruamel/yaml/main.py", line 434, in load
    return constructor.get_single_data()
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ruamel/yaml/constructor.py", line 119, in get_single_data
    node = self.composer.get_single_node()
  File "_ruamel_yaml.pyx", line 706, in _ruamel_yaml.CParser.get_single_node
  File "_ruamel_yaml.pyx", line 724, in _ruamel_yaml.CParser._compose_document
  File "_ruamel_yaml.pyx", line 775, in _ruamel_yaml.CParser._compose_node
  File "_ruamel_yaml.pyx", line 889, in _ruamel_yaml.CParser._compose_mapping_node
  File "_ruamel_yaml.pyx", line 775, in _ruamel_yaml.CParser._compose_node
  File "_ruamel_yaml.pyx", line 889, in _ruamel_yaml.CParser._compose_mapping_node
  File "_ruamel_yaml.pyx", line 775, in _ruamel_yaml.CParser._compose_node
  File "_ruamel_yaml.pyx", line 891, in _ruamel_yaml.CParser._compose_mapping_node
  File "_ruamel_yaml.pyx", line 904, in _ruamel_yaml.CParser._parse_next_event
ruamel.yaml.scanner.ScannerError: mapping values are not allowed in this context
  in "host_vars/LEFT.yaml", line 15, column 11

2022-09-10 15:24:53,175 - nornir.core.task -    ERROR -      start() - Host 'RIGHT': task 'edit_nc_config_from_yaml' failed with traceback:
Traceback (most recent call last):
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "edit_config.py", line 13, in edit_nc_config_from_yaml
    data = yaml.load(f)
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ruamel/yaml/main.py", line 434, in load
    return constructor.get_single_data()
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ruamel/yaml/constructor.py", line 119, in get_single_data
    node = self.composer.get_single_node()
  File "_ruamel_yaml.pyx", line 706, in _ruamel_yaml.CParser.get_single_node
  File "_ruamel_yaml.pyx", line 724, in _ruamel_yaml.CParser._compose_document
  File "_ruamel_yaml.pyx", line 775, in _ruamel_yaml.CParser._compose_node
  File "_ruamel_yaml.pyx", line 889, in _ruamel_yaml.CParser._compose_mapping_node
  File "_ruamel_yaml.pyx", line 775, in _ruamel_yaml.CParser._compose_node
  File "_ruamel_yaml.pyx", line 889, in _ruamel_yaml.CParser._compose_mapping_node
  File "_ruamel_yaml.pyx", line 775, in _ruamel_yaml.CParser._compose_node
  File "_ruamel_yaml.pyx", line 891, in _ruamel_yaml.CParser._compose_mapping_node
  File "_ruamel_yaml.pyx", line 904, in _ruamel_yaml.CParser._parse_next_event
ruamel.yaml.scanner.ScannerError: mapping values are not allowed in this context
  in "host_vars/RIGHT.yaml", line 15, column 11

2022-09-10 15:29:11,608 -  nornir.core -     INFO -        run() - Running task 'edit_nc_config_from_yaml' with args {} on 3 hosts
2022-09-10 15:29:11,611 - nornir.core.task -    ERROR -      start() - Host 'LEFT': task 'edit_nc_config_from_yaml' failed with traceback:
Traceback (most recent call last):
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "edit_config.py", line 13, in edit_nc_config_from_yaml
    data = yaml.load(f)
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ruamel/yaml/main.py", line 434, in load
    return constructor.get_single_data()
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ruamel/yaml/constructor.py", line 121, in get_single_data
    return self.construct_document(node)
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ruamel/yaml/constructor.py", line 131, in construct_document
    for _dummy in generator:
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ruamel/yaml/constructor.py", line 674, in construct_yaml_map
    value = self.construct_mapping(node)
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ruamel/yaml/constructor.py", line 445, in construct_mapping
    return BaseConstructor.construct_mapping(self, node, deep=deep)
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ruamel/yaml/constructor.py", line 263, in construct_mapping
    if self.check_mapping_key(node, key_node, mapping, key, value):
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ruamel/yaml/constructor.py", line 294, in check_mapping_key
    raise DuplicateKeyError(*args)
ruamel.yaml.constructor.DuplicateKeyError: while constructing a mapping
  in "host_vars/LEFT.yaml", line 2, column 3
found duplicate key "_xmlns" with value "http://cisco.com/ns/yang/Cisco-IOS-XE-native" (original value: "http://cisco.com/ns/yang/Cisco-IOS-XE-native")
  in "host_vars/LEFT.yaml", line 35, column 3

To suppress this check see:
    http://yaml.readthedocs.io/en/latest/api.html#duplicate-keys


2022-09-10 15:29:11,612 - nornir.core.task -    ERROR -      start() - Host 'CENTRE': task 'edit_nc_config_from_yaml' failed with traceback:
Traceback (most recent call last):
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "edit_config.py", line 13, in edit_nc_config_from_yaml
    data = yaml.load(f)
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ruamel/yaml/main.py", line 434, in load
    return constructor.get_single_data()
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ruamel/yaml/constructor.py", line 121, in get_single_data
    return self.construct_document(node)
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ruamel/yaml/constructor.py", line 131, in construct_document
    for _dummy in generator:
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ruamel/yaml/constructor.py", line 674, in construct_yaml_map
    value = self.construct_mapping(node)
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ruamel/yaml/constructor.py", line 445, in construct_mapping
    return BaseConstructor.construct_mapping(self, node, deep=deep)
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ruamel/yaml/constructor.py", line 263, in construct_mapping
    if self.check_mapping_key(node, key_node, mapping, key, value):
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ruamel/yaml/constructor.py", line 294, in check_mapping_key
    raise DuplicateKeyError(*args)
ruamel.yaml.constructor.DuplicateKeyError: while constructing a mapping
  in "host_vars/CENTRE.yaml", line 2, column 3
found duplicate key "_xmlns" with value "http://cisco.com/ns/yang/Cisco-IOS-XE-native" (original value: "http://cisco.com/ns/yang/Cisco-IOS-XE-native")
  in "host_vars/CENTRE.yaml", line 35, column 3

To suppress this check see:
    http://yaml.readthedocs.io/en/latest/api.html#duplicate-keys


2022-09-10 15:29:11,615 - nornir.core.task -    ERROR -      start() - Host 'RIGHT': task 'edit_nc_config_from_yaml' failed with traceback:
Traceback (most recent call last):
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "edit_config.py", line 13, in edit_nc_config_from_yaml
    data = yaml.load(f)
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ruamel/yaml/main.py", line 434, in load
    return constructor.get_single_data()
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ruamel/yaml/constructor.py", line 121, in get_single_data
    return self.construct_document(node)
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ruamel/yaml/constructor.py", line 131, in construct_document
    for _dummy in generator:
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ruamel/yaml/constructor.py", line 674, in construct_yaml_map
    value = self.construct_mapping(node)
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ruamel/yaml/constructor.py", line 445, in construct_mapping
    return BaseConstructor.construct_mapping(self, node, deep=deep)
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ruamel/yaml/constructor.py", line 263, in construct_mapping
    if self.check_mapping_key(node, key_node, mapping, key, value):
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ruamel/yaml/constructor.py", line 294, in check_mapping_key
    raise DuplicateKeyError(*args)
ruamel.yaml.constructor.DuplicateKeyError: while constructing a mapping
  in "host_vars/RIGHT.yaml", line 2, column 3
found duplicate key "_xmlns" with value "http://cisco.com/ns/yang/Cisco-IOS-XE-native" (original value: "http://cisco.com/ns/yang/Cisco-IOS-XE-native")
  in "host_vars/RIGHT.yaml", line 35, column 3

To suppress this check see:
    http://yaml.readthedocs.io/en/latest/api.html#duplicate-keys


2022-09-10 15:33:29,199 -  nornir.core -     INFO -        run() - Running task 'edit_nc_config_from_yaml' with args {} on 3 hosts
2022-09-10 15:33:29,976 - nornir.core.task -    ERROR -      start() - Host 'RIGHT': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/nornir_netconf/plugins/tasks/editing/netconf_edit_config.py", line 44, in netconf_edit_config
    result = manager.edit_config(config, target=target, default_operation=default_operation)
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ncclient/manager.py", line 246, in execute
    return cls(self._session,
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ncclient/operations/edit.py", line 76, in request
    return self._request(node)
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 375, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: {'type': 'application', 'tag': 'unknown-element', 'app_tag': None, 'severity': 'error', 'info': '<?xml version="1.0" encoding="UTF-8"?><error-info xmlns="urn:ietf:params:xml:ns:netconf:base:1.0" xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><bad-element>ospf</bad-element>\n</error-info>\n', 'path': '\n    /nc:rpc/nc:edit-config/nc:config/ios:native/ios:router/ios:ospf\n  ', 'message': None}

2022-09-10 15:33:29,976 - nornir.core.task -    ERROR -      start() - Host 'RIGHT': task 'edit_nc_config_from_yaml' failed with traceback:
Traceback (most recent call last):
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "edit_config.py", line 16, in edit_nc_config_from_yaml
    result = task.run(task=netconf_edit_config, config=xml_str)
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netconf_edit_config (failed)


2022-09-10 15:33:30,011 - nornir.core.task -    ERROR -      start() - Host 'CENTRE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/nornir_netconf/plugins/tasks/editing/netconf_edit_config.py", line 44, in netconf_edit_config
    result = manager.edit_config(config, target=target, default_operation=default_operation)
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ncclient/manager.py", line 246, in execute
    return cls(self._session,
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ncclient/operations/edit.py", line 76, in request
    return self._request(node)
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 375, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: {'type': 'application', 'tag': 'unknown-element', 'app_tag': None, 'severity': 'error', 'info': '<?xml version="1.0" encoding="UTF-8"?><error-info xmlns="urn:ietf:params:xml:ns:netconf:base:1.0" xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><bad-element>ospf</bad-element>\n</error-info>\n', 'path': '\n    /nc:rpc/nc:edit-config/nc:config/ios:native/ios:router/ios:ospf\n  ', 'message': None}

2022-09-10 15:33:30,011 - nornir.core.task -    ERROR -      start() - Host 'CENTRE': task 'edit_nc_config_from_yaml' failed with traceback:
Traceback (most recent call last):
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "edit_config.py", line 16, in edit_nc_config_from_yaml
    result = task.run(task=netconf_edit_config, config=xml_str)
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netconf_edit_config (failed)


2022-09-10 15:33:30,119 - nornir.core.task -    ERROR -      start() - Host 'LEFT': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/nornir_netconf/plugins/tasks/editing/netconf_edit_config.py", line 44, in netconf_edit_config
    result = manager.edit_config(config, target=target, default_operation=default_operation)
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ncclient/manager.py", line 246, in execute
    return cls(self._session,
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ncclient/operations/edit.py", line 76, in request
    return self._request(node)
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 375, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: {'type': 'application', 'tag': 'unknown-element', 'app_tag': None, 'severity': 'error', 'info': '<?xml version="1.0" encoding="UTF-8"?><error-info xmlns="urn:ietf:params:xml:ns:netconf:base:1.0" xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"><bad-element>ospf</bad-element>\n</error-info>\n', 'path': '\n    /nc:rpc/nc:edit-config/nc:config/ios:native/ios:router/ios:ospf\n  ', 'message': None}

2022-09-10 15:33:30,119 - nornir.core.task -    ERROR -      start() - Host 'LEFT': task 'edit_nc_config_from_yaml' failed with traceback:
Traceback (most recent call last):
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "edit_config.py", line 16, in edit_nc_config_from_yaml
    result = task.run(task=netconf_edit_config, config=xml_str)
  File "/home/bruckynetworks/CICD/.venvCICD/lib/python3.8/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netconf_edit_config (failed)


2022-09-10 15:36:14,378 -  nornir.core -     INFO -        run() - Running task 'edit_nc_config_from_yaml' with args {} on 3 hosts
